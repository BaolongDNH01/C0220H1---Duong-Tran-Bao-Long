<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/dashboard.css"/>
    <script src="js/jquery-3.5.0.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/dashboard.js"></script>
</head>
<body>
<nav th:replace="common :: navigateBar"></nav>
<div th:replace="common :: sideBar"></div>
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
            <form th:if="${khachHangMoi}" action="/register-customer" th:accept-charset="UTF-8" method="post"
                  th:object="${khachHangMoi}" class="form-horizontal">
                <fieldset>
                    <div id="legend">
                        <legend class="">Register</legend>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="code">Mã Khách Hàng</label>
                        <div class="controls">
                            <input type="text" id="code" name="code" th:field="*{code}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('code')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{code}" class="help-block">Example: KH-1234</p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="name">Họ và Tên</label>
                        <div class="controls">
                            <input type="text" id="name" name="name" th:field="*{name}" placeholder=""
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="address">Address</label>
                        <div class="controls">
                            <input type="text" id="address" name="address" th:field="*{address}" placeholder=""
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="email">Email</label>
                        <div class="controls">
                            <input type="text" id="email" name="email" th:field="*{email}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('email')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{email}"
                               class="help-block">Example: abc@abc.com</p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="phoneNumber">Số Điện Thoại</label>
                        <div class="controls">
                            <input type="text" id="phoneNumber" name="phoneNumber" th:field="*{phoneNumber}"
                                   placeholder="" class="input-xlarge">
                            <p th:if="${#fields.hasErrors('phoneNumber')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{phoneNumber}" class="help-block">Example: 0912345678</p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="cmnd">Số Chứng Minh Nhân Dân</label>
                        <div class="controls">
                            <input type="text" id="cmnd" name="cmnd" th:field="*{cmnd}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('cmnd')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{cmnd}"
                               class="help-block">Example: 123456789</p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="address">Address</label>
                        <div class="controls">
                            <input type="text" id="address" name="address" th:field="*{address}" placeholder=""
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="birthDay">Ngày Sinh</label>
                        <div class="controls">
                            <input type="date" th:field="*{birthDay}" id="birthDay" name="birthDay" placeholder=""
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="birthDay">Loại Khách</label>
                        <div class="controls">
                            <select class="dropdown" name="select" th:field="*{loaiKhach.id}">
                                <option th:each="loai : ${listLoaiKhach}" th:value="${loai.id}"
                                        th:text="${loai.ten}"></option>
                            </select>
                            <p class="help-block"></p>
                        </div>
                    </div>
                    <div class="control-group">
                        <!-- Button -->
                        <div class="controls">
                            <button class="btn btn-success">Register</button>
                        </div>
                    </div>
                </fieldset>
            </form>
            <form th:if="${HopDong}" action="/create-contract" method="post" accept-charset="UTF-8"
                  th:object="${HopDong}" class="form-horizontal">
                <fieldset>
                    <div id="resHopDong">
                        <legend class="">Thêm Mới Hợp Đồng</legend>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="khachHangHD">Khách Hàng</label>
                        <div class="controls">
                            <input type="text" id="khachHangHD" name="khachHangHD"
                                   th:field="*{khachHang.id}" th:value="*{khachHang.id}"
                                    readonly
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="dateStart">Ngày Làm Hợp Động</label>
                        <div class="controls">
                            <input type="date" id="dateStart" name="dateStart" th:field="*{dateStart}" placeholder=""
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="area">Ngày Kết Thúc</label>
                        <div class="controls">
                            <input type="date" id="dateEnd" name="dateEnd" th:field="*{dateEnd}" placeholder=""
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="datCoc">Tiền Đặt Cọc</label>
                        <div class="controls">
                            <input type="text" id="datCoc" name="datCoc" th:field="*{datCoc}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('datCoc')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{datCoc}"
                               class="help-block">Example: abc@abc.com</p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="tongTien">Tổng Tiền</label>
                        <div class="controls">
                            <input type="text" id="tongTien" name="tongTien" th:field="*{tongTien}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('tongTien')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{tongTien}" class="help-block"></p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="dichVuHD">Dịch Vụ Thuê</label>
                        <div class="controls">
                            <select id="dichVuHD" name="dichVuHD" th:field="*{dichVu.id}">
                                <option th:each="dichVu : ${listDichVuLamHopDong}" th:value="${dichVu.id}"
                                        th:text="${dichVu.name}"></option>
                            </select>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="nhanVienHD">Nhân Viên</label>
                        <div class="controls">
                            <select id="nhanVienHD" name="nhanVienHD" th:field="*{nhanVien.id}">
                                <option th:each="nhanVien : ${listNhanVienLamHopDong}" th:value="${nhanVien.id}"
                                        th:text="${nhanVien.name}"></option>
                            </select>
                        </div>
                    </div>
                    <div class="control-group">
                        <!-- Button -->
                        <div class="controls">
                            <button class="btn btn-success">Register</button>
                        </div>
                    </div>
                </fieldset>
            </form>
            <form th:if="${dichVu}" action="/create-services" method="post" accept-charset="UTF-8" th:object="${dichVu}"
                  class="form-horizontal">
                <fieldset>
                    <div id="resDichVu">
                        <legend class="">Register</legend>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="codeDV">Mã Dịch Vụ</label>
                        <div class="controls">
                            <input type="text" id="codeDV" name="codeDV" th:field="*{code}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('code')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{code}" class="help-block">Example: DV-1234</p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="nameDV">Tên Dịch Vụ</label>
                        <div class="controls">
                            <input type="text" id="nameDV" name="nameDV" th:field="*{name}" placeholder=""
                                   class="input-xlarge">
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="area">Diện Tích</label>
                        <div class="controls">
                            <input type="text" id="area" name="area" th:field="*{area}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('area')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{area}" class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="floor">Số Tầng</label>
                        <div class="controls">
                            <input type="text" id="floor" name="floor" th:field="*{floor}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('floor')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{floor}"
                               class="help-block">Example: abc@abc.com</p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="maxPeople">Số Người</label>
                        <div class="controls">
                            <input type="text" id="maxPeople" name="maxPeople" th:field="*{maxPeople}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('maxPeople')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{maxPeople}" class="help-block"></p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="cmnd">Giá</label>
                        <div class="controls">
                            <input type="text" id="price" name="price" th:field="*{price}" placeholder=""
                                   class="input-xlarge">
                            <p th:if="${#fields.hasErrors('price')}" style="color: red" th:accept-charset="UTF-8"
                               th:errors="*{price}"
                               class="help-block"></p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="status">Trạng Thái</label>
                        <div class="controls">
                            <select name="status" id="status" class="custom-select-sm" th:field="*{status}">
                                <option value="Có" th:text="Có"></option>
                                <option value="Không" th:text="Không"></option>
                            </select>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="kieuThue">Phương Thức Thuê</label>
                        <div class="controls">
                            <select id="kieuThue" name="kieuThue" th:field="*{kieuThue.id}">
                                <option th:each="kieuThue : ${listKieuThue}" th:value="${kieuThue.id}"
                                        th:text="${kieuThue.name}"></option>
                            </select>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="loaiDichVu">Loại Dịch Vụ Sử Dụng</label>
                        <div class="controls">
                            <select id="loaiDichVu" name="loaiDichVu" th:field="*{loaiDichVu.id}">
                                <option th:each="loaiDichVu : ${listLoaiDichVu}" th:value="${loaiDichVu.id}"
                                        th:text="${loaiDichVu.name}"></option>
                            </select>
                        </div>
                    </div>
                    <div class="control-group">
                        <!-- Button -->
                        <div class="controls">
                            <button class="btn btn-success">Register</button>
                        </div>
                    </div>
                </fieldset>
            </form>
            <h2>Section title</h2>
            <div th:if="${list}" th:unless="${listDichVu}" class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Tên Khách Hàng</th>
                        <th>Code</th>
                        <th>Loại Khách Hàng</th>
                        <th>Địa Chỉ</th>
                        <th>Ngày Sinh</th>
                        <th>Số Điện Thoại</th>
                        <th>Số CMND</th>
                        <th>Email</th>
                        <th colspan="2">Thao tác</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="customer : ${list.content}">
                        <td th:text="${customer.id}"></td>
                        <td th:text="${customer.name}"></td>
                        <td th:text="${customer.code}"></td>
                        <td th:text="${customer.loaiKhach.ten}"></td>
                        <td th:text="${customer.address}"></td>
                        <td><input type="date" th:value="${customer.birthDay}" readonly></td>
                        <td th:text="${customer.phoneNumber}"></td>
                        <td th:text="${customer.cmnd}"></td>
                        <td th:text="${customer.email}"></td>
                        <td><a th:href="@{/edit-customer(id= ${customer.id})}">Edit</a></td>
                        <td><a onclick="return confirm_delete()" th:href="@{/delete-customer(id= ${customer.id})}">Delete</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div>
                    <button th:if="${list.hasPrevious()}">
                        <a th:href="@{/customer-list(page=${list.number - 1})}">Previous</a>
                    </button>
                    <span th:text="${list.number + 1}"></span>/<span th:text="${list.totalPages}"></span>
                    <button th:if="${list.hasNext()}">
                        <a th:href="@{/customer-list(page=${list.number + 1})}">Next</a>
                    </button>
                </div>
            </div>
            <div th:if="${listDichVu}" th:unless="${list}" class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Tên dịch vụ</th>
                        <th>Code</th>
                        <th>Loại dịch vụ</th>
                        <th>Diện tích</th>
                        <th>Số tầng</th>
                        <th>Số người</th>
                        <th>Giá</th>
                        <th>Trạng thái</th>
                        <th colspan="2">Thao tác</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="service : ${listDichVu.content}">
                        <td th:text="${service.id}"></td>
                        <td th:text="${service.name}"></td>
                        <td th:text="${service.code}"></td>
                        <td th:text="${service.loaiDichVu.name}"></td>
                        <td th:text="${service.area}"></td>
                        <td th:text="${service.floor}"></td>
                        <td th:text="${service.maxPeople}"></td>
                        <td th:text="${service.price}"></td>
                        <td th:text="${service.status}"></td>
                        <td><a th:href="@{/edit-services(id=${service.id})}">Edit</a></td>
                        <td><a onclick="return confirm_delete()"
                               th:href="@{/delete-service(id=${service.id})}">Delete</a></td>
                    </tr>
                    </tbody>
                </table>
                <div>
                    <a th:if="${listDichVu.hasPrevious()}" th:href="@{/services(page=${listDichVu.number - 1})}">Previous</a>
                    <span th:text="${listDichVu.number + 1}"></span>/<span th:text="${listDichVu.totalPages}"></span>
                    <a th:if="${listDichVu.hasNext()}" th:href="@{/services(page=${listDichVu.number + 1})}">Next</a>
                </div>
            </div>
        </main>
    </div>
</div>
<script type="text/javascript">
    function confirm_delete() {
        return confirm("Bạn có muốn xóa ?");
    }
</script>
<div th:if="${message}" th:id="mess">
    <script th:inline="javascript">
        /*<![CDATA[*/
        var message = /*[[${message}]]*/ 'default';
        window.alert(message);
    </script>
</div>
</body>
</html>